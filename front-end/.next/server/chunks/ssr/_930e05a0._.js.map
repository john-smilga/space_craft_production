{"version":3,"sources":["../../../../node_modules/zustand/esm/react.mjs","../../../../node_modules/zustand/esm/vanilla.mjs","../../../../node_modules/zustand/esm/middleware.mjs","../../../../lib/zustand/create-selectors.ts","../../../../features/auth/store/auth-slice.ts","../../../../features/auth/queries/use-current-user-query.ts","../../../../features/auth/queries/use-login-mutation.ts","../../../../features/auth/queries/use-logout-mutation.ts","../../../../features/auth/queries/use-register-mutation.ts","../../../../features/auth/queries/use-update-username-mutation.ts","../../../../features/auth/hooks/use-is-admin.ts","../../../../features/auth/hooks/use-require-admin.ts","../../../../app/register/page.tsx"],"sourcesContent":["import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    React.useCallback(() => selector(api.getState()), [api, selector]),\n    React.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\nexport { create, useStore };\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\nexport { createStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = ((state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  });\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = ((selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  });\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    return setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      return setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import { StoreApi, UseBoundStore } from 'zustand';\n\ntype WithSelectors<S> = S extends { getState: () => infer T }\n  ? S & { use: { [K in keyof T]: () => T[K] } }\n  : never;\n\nexport const createSelectors = <S extends UseBoundStore<StoreApi<object>>>(\n  _store: S,\n) => {\n  const store = _store as WithSelectors<typeof _store>;\n  store.use = {} as never;\n  for (const k of Object.keys(store.getState())) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (store.use as any)[k] = () => store((s) => s[k as keyof typeof s]);\n  }\n\n  return store;\n};\n\n","import { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\nimport { z } from 'zod';\nimport { createSelectors } from '@/lib/zustand/create-selectors';\nimport { schemas } from '@/lib/generated/api-schemas';\n\ntype UserType = z.infer<typeof schemas.User>;\n\ninterface AuthState {\n  user: UserType | null;\n  setUser: (user: UserType | null) => void;\n  clearUser: () => void;\n}\n\nconst useAuthStoreBase = create<AuthState>()(\n  devtools(\n    (set) => ({\n      user: null,\n      setUser: (user) => set({ user }, false, 'setUser'),\n      clearUser: () => set({ user: null }, false, 'clearUser'),\n    }),\n    { name: 'AuthStore' }\n  )\n);\n\nexport const useAuthStore = createSelectors(useAuthStoreBase);\n\n","'use client';\nimport { useQuery } from '@tanstack/react-query'\nimport { z } from 'zod'\nimport api from '@/lib/axios'\nimport { schemas } from '@/lib/generated/api-schemas'\nimport { useAuthStore } from '../store'\n\ntype UserType = z.infer<typeof schemas.User>\n\nasync function fetchCurrentUser(): Promise<UserType> {\n  const { data } = await api.get('/users/me/')\n  return schemas.User.parse(data)\n}\n\nexport function useCurrentUserQuery() {\n  const user = useAuthStore.use.user()\n  const setUser = useAuthStore.use.setUser()\n\n  return useQuery({\n    queryKey: ['auth', 'current-user'],\n    queryFn: async () => {\n      try {\n        const fetchedUser = await fetchCurrentUser()\n        setUser(fetchedUser)\n        return fetchedUser\n      } catch (error) {\n        setUser(null)\n        throw error\n      }\n    },\n    enabled: !user,\n    retry: false,\n    staleTime: Infinity,\n  })\n}\n","'use client';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { z } from 'zod';\nimport api from '@/lib/axios';\nimport { useAppMutation } from '@/lib/react-query/hooks';\nimport { schemas } from '@/lib/generated/api-schemas';\nimport { useAuthStore } from '../store';\n\ntype LoginCredentials = z.infer<typeof schemas.LoginRequest>;\ntype LoginResponse = z.infer<typeof schemas.User>;\n\nexport function useLoginMutation() {\n  const queryClient = useQueryClient();\n  const setUser = useAuthStore.use.setUser();\n\n  return useAppMutation<LoginResponse, LoginCredentials>(\n    async (credentials) => {\n      const validatedInput = schemas.LoginRequest.parse(credentials);\n      const { data } = await api.post('/auth/login/', validatedInput);\n      return schemas.User.parse(data);\n    },\n    {\n      successMessage: 'Logged in successfully',\n      errorMessage: 'Login failed',\n      onSuccess: (data) => {\n        setUser(data);\n        queryClient.setQueryData(['auth', 'current-user'], data);\n      },\n    }\n  );\n}\n\n","'use client';\nimport { useQueryClient } from '@tanstack/react-query';\nimport api from '@/lib/axios';\nimport { useAppMutation } from '@/lib/react-query/hooks';\nimport { useAuthStore } from '../store';\n\nexport function useLogoutMutation() {\n  const queryClient = useQueryClient();\n  const clearUser = useAuthStore.use.clearUser();\n\n  return useAppMutation<void, void>(\n    async () => {\n      await api.post('/auth/logout/');\n    },\n    {\n      successMessage: 'Logged out successfully',\n      errorMessage: 'Logout failed',\n      onSuccess: () => {\n        clearUser();\n        queryClient.setQueryData(['auth', 'current-user'], null);\n        queryClient.clear();\n      },\n    }\n  );\n}\n\n","'use client';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { z } from 'zod';\nimport api from '@/lib/axios';\nimport { useAppMutation } from '@/lib/react-query/hooks';\nimport { schemas } from '@/lib/generated/api-schemas';\nimport { useAuthStore } from '../store';\n\ntype RegisterData = z.infer<typeof schemas.RegisterRequestRequest>;\ntype RegisterResponse = z.infer<typeof schemas.User>;\n\nexport function useRegisterMutation() {\n  const queryClient = useQueryClient();\n  const setUser = useAuthStore.use.setUser();\n\n  return useAppMutation<RegisterResponse, RegisterData>(\n    async (data) => {\n      const validatedInput = schemas.RegisterRequestRequest.parse(data);\n      const response = await api.post('/auth/register/', validatedInput);\n      return schemas.User.parse(response.data);\n    },\n    {\n      successMessage: 'Registered successfully',\n      errorMessage: 'Registration failed',\n      onSuccess: (data) => {\n        setUser(data);\n        queryClient.setQueryData(['auth', 'current-user'], data);\n      },\n    }\n  );\n}\n\n","'use client';\nimport { z } from 'zod';\nimport api from '@/lib/axios';\nimport { useAppMutation } from '@/lib/react-query/hooks';\nimport { schemas } from '@/lib/generated/api-schemas';\n\ntype UpdateUsernameInput = z.infer<typeof schemas.PatchedUserRequest>;\ntype UserResponse = z.infer<typeof schemas.User>;\n\nexport function useUpdateUsernameMutation() {\n  return useAppMutation<UserResponse, UpdateUsernameInput>(\n    async (input) => {\n      const validatedInput = schemas.PatchedUserRequest.parse(input);\n      const response = await api.patch('/users/me/username/', validatedInput);\n      return schemas.User.parse(response.data);\n    },\n    {\n      successMessage: 'Username updated successfully',\n      errorMessage: 'Failed to update username',\n      invalidateQueries: [['current-user']],\n    }\n  );\n}\n\n","'use client';\nimport { useAuthStore } from '../store';\n\nexport function useIsAdmin(): boolean {\n  const user = useAuthStore.use.user();\n  return user?.role === 'admin' || false;\n}\n\n","'use client';\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useIsAdmin } from './use-is-admin';\nimport { useAuthStore } from '../store';\n\nexport function useRequireAdmin(): void {\n  const router = useRouter();\n  const isAdmin = useIsAdmin();\n  const user = useAuthStore.use.user();\n\n  useEffect(() => {\n    if (user && !isAdmin) {\n      router.push('/dashboard');\n    }\n  }, [user, isAdmin, router]);\n}\n\n","'use client';\n\nimport { Suspense, useEffect, useState } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { useRegisterMutation } from '@/features/auth';\nimport api from '@/lib/axios';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { FormField } from '@/components/ui/form-field';\n\nfunction RegisterForm() {\n  const [token, setToken] = useState<string | null>(null);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [invitationData, setInvitationData] = useState<{ email: string; company: { id: number; name: string } | null } | null>(null);\n  const registerMutation = useRegisterMutation();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  useEffect(() => {\n    const tokenParam = searchParams.get('token');\n    \n    const validateToken = async () => {\n      if (!tokenParam) {\n        setError('Invalid invitation link. Token is missing.');\n        setLoading(false);\n        return;\n      }\n\n      setToken(tokenParam);\n      \n      try {\n        const response = await api.get(`/auth/validate-invitation/?token=${tokenParam}`);\n        if (response.data.valid) {\n          setInvitationData({\n            email: response.data.email,\n            company: response.data.company,\n          });\n        } else {\n          setError('Invalid or expired invitation token');\n        }\n      } catch (err: unknown) {\n        const errorMessage = (err as { response?: { data?: { error?: string } } })?.response?.data?.error || 'Invalid invitation token';\n        setError(errorMessage);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    validateToken();\n  }, [searchParams]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    try {\n      await registerMutation.mutateAsync({\n        token: token!,\n        password,\n        username: username || undefined,\n      });\n      router.push('/dashboard');\n    } catch (error: unknown) {\n      if (error instanceof Error) {\n        setError(error.message || 'Registration failed');\n      } else {\n        setError('Registration failed');\n      }\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className='flex min-h-screen items-center justify-center bg-gray-50'>\n        <p className='text-muted-foreground'>Validating invitation...</p>\n      </div>\n    );\n  }\n\n  if (error && !invitationData) {\n    return (\n      <div className='flex min-h-screen items-center justify-center bg-gray-50 p-4'>\n        <Card className='w-full max-w-md mx-auto'>\n          <CardContent className='p-6 text-center'>\n            <Alert variant='destructive' className='mb-4'>\n              <AlertDescription>{error}</AlertDescription>\n            </Alert>\n            <Button onClick={() => router.push('/login')} variant='outline'>\n              Go to Login\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className='flex min-h-screen items-center justify-center bg-gray-50 p-4'>\n      <Card className='w-full max-w-md mx-auto'>\n        <CardHeader>\n          <CardTitle className='text-2xl text-center'>Complete Your Registration</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {invitationData && (\n            <Alert className='mb-6'>\n              <AlertDescription>\n                <p className='text-sm mb-1'>\n                  Email: <span className='font-medium'>{invitationData.email}</span>\n                </p>\n                {invitationData.company && (\n                  <p className='text-sm'>\n                    Company: <span className='font-medium'>{invitationData.company.name}</span>\n                  </p>\n                )}\n              </AlertDescription>\n            </Alert>\n          )}\n          <form onSubmit={handleSubmit} className='space-y-4'>\n            <FormField\n              label='Username'\n              type='text'\n              placeholder='Username (optional)'\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            <FormField\n              label='Password'\n              type='password'\n              placeholder='Password'\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n            {error && (\n              <Alert variant='destructive'>\n                <AlertDescription>{error}</AlertDescription>\n              </Alert>\n            )}\n            <Button type='submit' disabled={registerMutation.isPending} className='w-full'>\n              {registerMutation.isPending ? 'Registering...' : 'Complete Registration'}\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default function RegisterPage() {\n  return (\n    <Suspense fallback={\n      <div className='flex min-h-screen items-center justify-center bg-gray-50'>\n        <p className='text-muted-foreground'>Loading...</p>\n      </div>\n    }>\n      <RegisterForm />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2]}