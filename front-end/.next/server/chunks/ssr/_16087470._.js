module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(97895);function h({className:a,...c}){return(0,b.jsx)(f,{"data-slot":"label",className:(0,g.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>h],17171)},65626,5522,a=>{"use strict";var b=a.i(87924),c=a.i(17171),d=a.i(97895);function e({className:a,type:c,...e}){return(0,b.jsx)("input",{type:c,"data-slot":"input",className:(0,d.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}function f({label:a,id:f,containerClassName:g,className:h,...i}){let j=f||`field-${a.toLowerCase().replace(/\s+/g,"-")}`;return(0,b.jsxs)("div",{className:(0,d.cn)("space-y-2",g),children:[(0,b.jsx)(c.Label,{htmlFor:j,children:a}),(0,b.jsx)(e,{id:j,className:h,...i})]})}a.s(["Input",()=>e],5522),a.s(["FormField",()=>f],65626)},65602,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(97895);let e=(0,c.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,d.cn)(e({variant:c}),a),...f})}function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,d.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}a.s(["Alert",()=>f,"AlertDescription",()=>g])},92994,a=>{"use strict";var b=a.i(87924),c=a.i(3130);function d({message:a}){return(0,b.jsx)(c.Card,{className:"p-12",children:(0,b.jsx)(c.CardContent,{className:"p-0",children:(0,b.jsx)("p",{className:"text-muted-foreground text-lg font-medium text-center",children:a})})})}a.s(["default",()=>d])},60556,a=>{"use strict";a.i(92407);var b=a.i(72486),c=a.i(41842);a.s(["useIsAdmin",()=>b.useIsAdmin,"useRequireAdmin",()=>c.useRequireAdmin])},15353,a=>{"use strict";var b=a.i(87924);a.i(85767);var c=a.i(29275);function d({fallback:a=null,children:d}){let e=c.useAuthStore.use.user();return e?.role!=="admin"?(0,b.jsx)(b.Fragment,{children:a}):(0,b.jsx)(b.Fragment,{children:d})}a.s(["AdminOnly",()=>d])},57623,a=>{"use strict";var b=a.i(95345),c=a.i(74560),d=a.i(12032);function e(){return(0,c.usePaginatedQuery)(["users"],async()=>{let a=await b.default.get("/users/");return d.schemas.PaginatedUserList.parse(a.data)})}a.s(["useUsersQuery",()=>e])},26094,a=>{"use strict";var b=a.i(33217),c=a.i(95345),d=a.i(12032);function e(a){return(0,b.useQuery)({queryKey:["user",a],queryFn:async()=>{if(!a)throw Error("User slug is required");let b=await c.default.get(`/users/${a}/`);return d.schemas.User.parse(b.data)},enabled:!!a})}a.s(["useUserQuery",()=>e])},51865,a=>{"use strict";var b=a.i(95345),c=a.i(74560),d=a.i(12032);function e(){return(0,c.useAppMutation)(async a=>{let c=d.schemas.UserInviteRequest.parse(a),e=await b.default.post("/users/invite/",c);return d.schemas.UserInviteResponse.parse(e.data)},{successMessage:"User invitation created successfully",errorMessage:"Failed to create invitation",invalidateQueries:[["users"]]})}a.s(["useInviteUserMutation",()=>e])},70564,a=>{"use strict";var b=a.i(95345),c=a.i(74560);function d(a){return(0,c.useAppMutation)(async()=>{await b.default.delete(`/users/${a}/`)},{successMessage:"User deleted successfully",errorMessage:"Failed to delete user",invalidateQueries:[["users"],["user",a]]})}a.s(["useDeleteUserMutation",()=>d])},70526,a=>{"use strict";a.i(57623),a.i(26094),a.i(51865),a.i(70564),a.s([])},46710,a=>{"use strict";var b=a.i(87924),c=a.i(50944);a.i(85767);var d=a.i(60556),e=a.i(92994),f=a.i(3130),g=a.i(65602),h=a.i(97895);a.i(70526);var i=a.i(57623);function j(){(0,d.useRequireAdmin)();let a=(0,c.useRouter)(),{data:j,isLoading:k,error:l}=(0,i.useUsersQuery)(),m=j||[];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Users"}),k?(0,b.jsx)("div",{className:"text-center py-8",children:"Loading..."}):l?(0,b.jsx)(g.Alert,{variant:"destructive",className:"mb-4",children:(0,b.jsx)(g.AlertDescription,{children:l.message})}):0===m.length?(0,b.jsx)(e.default,{message:"No users found"}):(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-0",children:(0,b.jsx)("ul",{className:"divide-y divide-border",children:m.map(c=>(0,b.jsx)("li",{onClick:()=>{var b;return b=c.slug,void a.push(`/dashboard/users/${b}`)},className:"px-6 py-4 hover:bg-accent cursor-pointer transition-colors",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-lg font-medium",children:c.username}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:c.email})]})})}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Joined: ",(0,h.formatDate)(c.date_joined||"")]})]})},c.id))})})})]})}a.s(["UserList",()=>j])},24837,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(6704);a.i(85767);var e=a.i(29275),f=a.i(60556),g=a.i(40695),h=a.i(5522),i=a.i(3130),j=a.i(65602),k=a.i(65626);a.i(70526);var l=a.i(51865);function m(){(0,f.useRequireAdmin)();let a=e.useAuthStore.use.user(),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(null),s=(0,l.useInviteUserMutation)(),t=async a=>{a.preventDefault(),r(null);try{let a=await s.mutateAsync({email:m,username:o,role:"member"});r({link:a.invitation_link,token:a.invitation_token}),n(""),p("")}catch{}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Invite User"}),(0,b.jsxs)(i.Card,{className:"max-w-2xl",children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Create Invitation"})}),(0,b.jsxs)(i.CardContent,{children:[(0,b.jsxs)("form",{onSubmit:t,className:"space-y-4",children:[(0,b.jsx)(k.FormField,{label:"Email",type:"email",value:m,onChange:a=>n(a.target.value),required:!0,placeholder:"user@example.com"}),(0,b.jsx)(k.FormField,{label:"Username",type:"text",value:o,onChange:a=>p(a.target.value),required:!0,placeholder:"username"}),a?.company&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.FormField,{label:"Company",type:"text",value:a.company.name,readOnly:!0,className:"bg-muted"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Users will be added to your company as members"})]}),s.isError&&(0,b.jsx)(j.Alert,{variant:"destructive",children:(0,b.jsx)(j.AlertDescription,{children:s.error?.message||"Failed to create invitation"})}),(0,b.jsx)(g.Button,{type:"submit",disabled:s.isPending,className:"w-full",children:s.isPending?"Creating Invitation...":"Create Invitation"})]}),q&&(0,b.jsx)(j.Alert,{className:"mt-6",children:(0,b.jsxs)(j.AlertDescription,{className:"mb-2",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"Invitation created successfully!"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Invitation Link:"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(h.Input,{type:"text",value:q.link,readOnly:!0,className:"flex-1 text-sm bg-muted"}),(0,b.jsx)(g.Button,{type:"button",onClick:()=>{var a;return a=q.link,void(navigator.clipboard.writeText(a),d.default.success("Link copied to clipboard!"))},variant:"outline",size:"sm",children:"Copy"})]})]}),(0,b.jsx)("p",{className:"text-xs mt-2",children:"Share this link with the user. They will use it to complete their registration."})]})]})})]})]})]})}a.s(["InviteUserForm",()=>m])},42455,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(85767);var e=a.i(60556),f=a.i(40695),g=a.i(3130),h=a.i(65602),i=a.i(15353),j=a.i(97895);a.i(70526);var k=a.i(26094),l=a.i(70564);function m({label:a,children:c}){return(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:a}),(0,b.jsx)("p",{className:"text-lg",children:c})]})}function n({userSlug:a}){(0,e.useRequireAdmin)();let n=(0,d.useRouter)(),[o,p]=(0,c.useState)(!1),{data:q,isLoading:r,error:s}=(0,k.useUserQuery)(a),t=(0,l.useDeleteUserMutation)(a),u=async()=>{try{await t.mutateAsync(),n.push("/dashboard/users")}catch{p(!1)}},v=async()=>{o?await u():p(!0)};return r?(0,b.jsx)("div",{className:"text-center py-8",children:"Loading..."}):s&&!q?(0,b.jsxs)(h.Alert,{variant:"destructive",className:"mb-4",children:[(0,b.jsx)(h.AlertDescription,{children:s.message}),(0,b.jsx)(f.Button,{onClick:()=>n.push("/dashboard/users"),variant:"outline",className:"mt-4",children:"Back to Users"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"User Details"})}),t.isError&&(0,b.jsx)(h.Alert,{variant:"destructive",className:"mb-4",children:(0,b.jsx)(h.AlertDescription,{children:t.error?.message})}),q&&(0,b.jsx)(g.Card,{children:(0,b.jsxs)(g.CardContent,{className:"p-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(m,{label:"Username",children:q.username}),(0,b.jsx)(m,{label:"Email",children:q.email}),(0,b.jsx)(m,{label:"Role",children:(0,b.jsx)("span",{className:"capitalize",children:q.role})}),(0,b.jsx)(m,{label:"Date Joined",children:(0,j.formatDate)(q.date_joined||"")}),(0,b.jsx)(m,{label:"User ID",children:q.id})]}),(0,b.jsx)(i.AdminOnly,{children:(0,b.jsx)("div",{className:"mt-8 pt-6 border-t border-border",children:o?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-destructive font-medium",children:"Are you sure you want to delete this user? This action cannot be undone."}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{onClick:u,disabled:t.isPending,variant:"destructive",children:t.isPending?"Deleting...":"Confirm Delete"}),(0,b.jsx)(f.Button,{onClick:()=>{p(!1)},disabled:t.isPending,variant:"outline",children:"Cancel"})]})]}):(0,b.jsx)(f.Button,{onClick:v,variant:"destructive",children:"Delete User"})})})]})})]})}a.s(["UserDetail",()=>n])},43024,a=>{"use strict";var b=a.i(87924),c=a.i(50944);a.i(46710),a.i(24837);var d=a.i(42455);function e(){let a=(0,c.useParams)(),e=a?.userSlug;return(0,b.jsx)(d.UserDetail,{userSlug:e})}a.i(70526),a.s(["default",()=>e],43024)}];

//# sourceMappingURL=_16087470._.js.map