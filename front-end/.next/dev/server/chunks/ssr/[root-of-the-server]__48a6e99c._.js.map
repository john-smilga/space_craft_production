{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/lib/zustand/create-selectors.ts"],"sourcesContent":["import { StoreApi, UseBoundStore } from 'zustand';\n\ntype WithSelectors<S> = S extends { getState: () => infer T }\n  ? S & { use: { [K in keyof T]: () => T[K] } }\n  : never;\n\nexport const createSelectors = <S extends UseBoundStore<StoreApi<object>>>(\n  _store: S,\n) => {\n  const store = _store as WithSelectors<typeof _store>;\n  store.use = {} as never;\n  for (const k of Object.keys(store.getState())) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (store.use as any)[k] = () => store((s) => s[k as keyof typeof s]);\n  }\n\n  return store;\n};\n\n"],"names":[],"mappings":";;;;AAMO,MAAM,kBAAkB,CAC7B;IAEA,MAAM,QAAQ;IACd,MAAM,GAAG,GAAG,CAAC;IACb,KAAK,MAAM,KAAK,OAAO,IAAI,CAAC,MAAM,QAAQ,IAAK;QAC7C,8DAA8D;QAC7D,MAAM,GAAG,AAAQ,CAAC,EAAE,GAAG,IAAM,MAAM,CAAC,IAAM,CAAC,CAAC,EAAoB;IACnE;IAEA,OAAO;AACT"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/store/auth-slice.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\nimport { createSelectors } from '@/lib/zustand/create-selectors';\nimport type { User } from '../types';\n\ninterface AuthState {\n  user: User | null;\n  setUser: (user: User | null) => void;\n  clearUser: () => void;\n}\n\nconst useAuthStoreBase = create<AuthState>()(\n  devtools(\n    (set) => ({\n      user: null,\n      setUser: (user) => set({ user }, false, 'setUser'),\n      clearUser: () => set({ user: null }, false, 'clearUser'),\n    }),\n    { name: 'AuthStore' }\n  )\n);\n\nexport const useAuthStore = createSelectors(useAuthStoreBase);\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AASA,MAAM,mBAAmB,IAAA,kJAAM,IAC7B,IAAA,yJAAQ,EACN,CAAC,MAAQ,CAAC;QACR,MAAM;QACN,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK,GAAG,OAAO;QACxC,WAAW,IAAM,IAAI;gBAAE,MAAM;YAAK,GAAG,OAAO;IAC9C,CAAC,GACD;IAAE,MAAM;AAAY;AAIjB,MAAM,eAAe,IAAA,wJAAe,EAAC"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/store/index.ts"],"sourcesContent":["export { useAuthStore } from './auth-slice';\n\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/lib/axios.ts"],"sourcesContent":["import axios from 'axios';\n\nconst getBaseUrl = () => {\n  if (process.env.NEXT_PUBLIC_API_URL) return process.env.NEXT_PUBLIC_API_URL;\n\n  // Fall back to the current origin so cookies stay first-party on mobile browsers\n  if (typeof window !== 'undefined') return `${window.location.origin}/api`;\n\n  return 'http://localhost:8000/api';\n};\n\nconst api = axios.create({\n  baseURL: getBaseUrl(),\n  withCredentials: true,\n});\n\nexport default api;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,aAAa;IACjB,wCAAqC;;;AAMvC;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,iBAAiB;AACnB;uCAEe"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/schemas/user-schema.ts"],"sourcesContent":["import { z } from 'zod';\n\nexport const companySchema = z.object({\n  id: z.number(),\n  name: z.string(),\n});\n\nexport const userSchema = z.object({\n  id: z.number(),\n  email: z.string().email(),\n  username: z.string(),\n  slug: z.string(),\n  role: z.enum(['admin', 'member']),\n  date_joined: z.string().optional(),\n  company: companySchema.nullable(),\n});\n\nexport type User = z.infer<typeof userSchema>;\nexport type Company = z.infer<typeof companySchema>;\n\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,gBAAgB,kLAAC,CAAC,MAAM,CAAC;IACpC,IAAI,kLAAC,CAAC,MAAM;IACZ,MAAM,kLAAC,CAAC,MAAM;AAChB;AAEO,MAAM,aAAa,kLAAC,CAAC,MAAM,CAAC;IACjC,IAAI,kLAAC,CAAC,MAAM;IACZ,OAAO,kLAAC,CAAC,MAAM,GAAG,KAAK;IACvB,UAAU,kLAAC,CAAC,MAAM;IAClB,MAAM,kLAAC,CAAC,MAAM;IACd,MAAM,kLAAC,CAAC,IAAI,CAAC;QAAC;QAAS;KAAS;IAChC,aAAa,kLAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,SAAS,cAAc,QAAQ;AACjC"}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/queries/use-current-user-query.ts"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\nimport { useEffect } from 'react';\nimport api from '@/lib/axios';\nimport { userSchema } from '../schemas/user-schema';\nimport { useAuthStore } from '../store';\nimport type { User } from '../types';\n\nasync function fetchCurrentUser(): Promise<User> {\n  const { data } = await api.get('/users/me/');\n  return userSchema.parse(data);\n}\n\nexport function useCurrentUserQuery() {\n  const setUser = useAuthStore.use.setUser();\n\n  const query = useQuery({\n    queryKey: ['auth', 'current-user'],\n    queryFn: fetchCurrentUser,\n    retry: false,\n    staleTime: 1000 * 60 * 10,\n  });\n\n  useEffect(() => {\n    if (query.data) {\n      setUser(query.data);\n    } else if (query.error) {\n      setUser(null);\n    }\n  }, [query.data, query.error, setUser]);\n\n  return query;\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;AAGA,eAAe;IACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,uHAAG,CAAC,GAAG,CAAC;IAC/B,OAAO,2JAAU,CAAC,KAAK,CAAC;AAC1B;AAEO,SAAS;IACd,MAAM,UAAU,0JAAY,CAAC,GAAG,CAAC,OAAO;IAExC,MAAM,QAAQ,IAAA,uLAAQ,EAAC;QACrB,UAAU;YAAC;YAAQ;SAAe;QAClC,SAAS;QACT,OAAO;QACP,WAAW,OAAO,KAAK;IACzB;IAEA,IAAA,kNAAS,EAAC;QACR,IAAI,MAAM,IAAI,EAAE;YACd,QAAQ,MAAM,IAAI;QACpB,OAAO,IAAI,MAAM,KAAK,EAAE;YACtB,QAAQ;QACV;IACF,GAAG;QAAC,MAAM,IAAI;QAAE,MAAM,KAAK;QAAE;KAAQ;IAErC,OAAO;AACT"}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/schemas/login-schema.ts"],"sourcesContent":["import { z } from 'zod';\nimport { userSchema } from './user-schema';\n\nexport const loginCredentialsSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(1, 'Password is required'),\n});\n\nexport const loginResponseSchema = z.object({\n  user: userSchema,\n});\n\nexport const registerDataSchema = z.object({\n  token: z.string(),\n  password: z.string().min(8, 'Password must be at least 8 characters'),\n  username: z.string().optional(),\n});\n\nexport const registerResponseSchema = z.object({\n  user: userSchema,\n});\n\nexport type LoginCredentials = z.infer<typeof loginCredentialsSchema>;\nexport type LoginResponse = z.infer<typeof loginResponseSchema>;\nexport type RegisterData = z.infer<typeof registerDataSchema>;\nexport type RegisterResponse = z.infer<typeof registerResponseSchema>;\n\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEO,MAAM,yBAAyB,kLAAC,CAAC,MAAM,CAAC;IAC7C,OAAO,kLAAC,CAAC,MAAM,GAAG,KAAK;IACvB,UAAU,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAEO,MAAM,sBAAsB,kLAAC,CAAC,MAAM,CAAC;IAC1C,MAAM,2JAAU;AAClB;AAEO,MAAM,qBAAqB,kLAAC,CAAC,MAAM,CAAC;IACzC,OAAO,kLAAC,CAAC,MAAM;IACf,UAAU,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,UAAU,kLAAC,CAAC,MAAM,GAAG,QAAQ;AAC/B;AAEO,MAAM,yBAAyB,kLAAC,CAAC,MAAM,CAAC;IAC7C,MAAM,2JAAU;AAClB"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/queries/use-login-mutation.ts"],"sourcesContent":["import { useMutation, useQueryClient } from '@tanstack/react-query';\nimport api from '@/lib/axios';\nimport toast from 'react-hot-toast';\nimport { loginResponseSchema } from '../schemas/login-schema';\nimport { useAuthStore } from '../store';\nimport type { LoginCredentials, LoginResponse } from '../types';\n\nasync function loginUser(credentials: LoginCredentials): Promise<LoginResponse> {\n  const { data } = await api.post('/auth/login/', credentials);\n  return loginResponseSchema.parse(data);\n}\n\nexport function useLoginMutation() {\n  const queryClient = useQueryClient();\n  const setUser = useAuthStore.use.setUser();\n\n  return useMutation({\n    mutationFn: loginUser,\n    onSuccess: (data) => {\n      setUser(data.user);\n      queryClient.setQueryData(['auth', 'current-user'], data.user);\n      toast.success('Logged in successfully');\n    },\n    onError: (error: unknown) => {\n      if (error instanceof Error) {\n        toast.error(error.message || 'Login failed');\n      } else {\n        toast.error('Login failed');\n      }\n    },\n  });\n}\n\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;AAGA,eAAe,UAAU,WAA6B;IACpD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,uHAAG,CAAC,IAAI,CAAC,gBAAgB;IAChD,OAAO,qKAAmB,CAAC,KAAK,CAAC;AACnC;AAEO,SAAS;IACd,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,UAAU,0JAAY,CAAC,GAAG,CAAC,OAAO;IAExC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY;QACZ,WAAW,CAAC;YACV,QAAQ,KAAK,IAAI;YACjB,YAAY,YAAY,CAAC;gBAAC;gBAAQ;aAAe,EAAE,KAAK,IAAI;YAC5D,kKAAK,CAAC,OAAO,CAAC;QAChB;QACA,SAAS,CAAC;YACR,IAAI,iBAAiB,OAAO;gBAC1B,kKAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;YAC/B,OAAO;gBACL,kKAAK,CAAC,KAAK,CAAC;YACd;QACF;IACF;AACF"}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/queries/use-logout-mutation.ts"],"sourcesContent":["import { useMutation, useQueryClient } from '@tanstack/react-query';\nimport api from '@/lib/axios';\nimport toast from 'react-hot-toast';\nimport { useAuthStore } from '../store';\n\nasync function logoutUser(): Promise<void> {\n  await api.post('/auth/logout/');\n}\n\nexport function useLogoutMutation() {\n  const queryClient = useQueryClient();\n  const clearUser = useAuthStore.use.clearUser();\n\n  return useMutation({\n    mutationFn: logoutUser,\n    onSuccess: () => {\n      clearUser();\n      queryClient.setQueryData(['auth', 'current-user'], null);\n      queryClient.clear();\n      toast.success('Logged out successfully');\n    },\n    onError: (error: unknown) => {\n      if (error instanceof Error) {\n        toast.error(error.message || 'Logout failed');\n      } else {\n        toast.error('Logout failed');\n      }\n    },\n  });\n}\n\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;AACA;AAAA;;;;;AAEA,eAAe;IACb,MAAM,uHAAG,CAAC,IAAI,CAAC;AACjB;AAEO,SAAS;IACd,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,YAAY,0JAAY,CAAC,GAAG,CAAC,SAAS;IAE5C,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY;QACZ,WAAW;YACT;YACA,YAAY,YAAY,CAAC;gBAAC;gBAAQ;aAAe,EAAE;YACnD,YAAY,KAAK;YACjB,kKAAK,CAAC,OAAO,CAAC;QAChB;QACA,SAAS,CAAC;YACR,IAAI,iBAAiB,OAAO;gBAC1B,kKAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;YAC/B,OAAO;gBACL,kKAAK,CAAC,KAAK,CAAC;YACd;QACF;IACF;AACF"}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/queries/use-register-mutation.ts"],"sourcesContent":["import { useMutation, useQueryClient } from '@tanstack/react-query';\nimport api from '@/lib/axios';\nimport toast from 'react-hot-toast';\nimport { registerResponseSchema } from '../schemas/login-schema';\nimport { useAuthStore } from '../store';\nimport type { RegisterData, RegisterResponse } from '../types';\n\nasync function registerUser(data: RegisterData): Promise<RegisterResponse> {\n  const response = await api.post('/auth/register/', data);\n  return registerResponseSchema.parse(response.data);\n}\n\nexport function useRegisterMutation() {\n  const queryClient = useQueryClient();\n  const setUser = useAuthStore.use.setUser();\n\n  return useMutation({\n    mutationFn: registerUser,\n    onSuccess: (data) => {\n      setUser(data.user);\n      queryClient.setQueryData(['auth', 'current-user'], data.user);\n      toast.success('Registered successfully');\n    },\n    onError: (error: unknown) => {\n      if (error instanceof Error) {\n        toast.error(error.message || 'Registration failed');\n      } else {\n        toast.error('Registration failed');\n      }\n    },\n  });\n}\n\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;AAGA,eAAe,aAAa,IAAkB;IAC5C,MAAM,WAAW,MAAM,uHAAG,CAAC,IAAI,CAAC,mBAAmB;IACnD,OAAO,wKAAsB,CAAC,KAAK,CAAC,SAAS,IAAI;AACnD;AAEO,SAAS;IACd,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,UAAU,0JAAY,CAAC,GAAG,CAAC,OAAO;IAExC,OAAO,IAAA,6LAAW,EAAC;QACjB,YAAY;QACZ,WAAW,CAAC;YACV,QAAQ,KAAK,IAAI;YACjB,YAAY,YAAY,CAAC;gBAAC;gBAAQ;aAAe,EAAE,KAAK,IAAI;YAC5D,kKAAK,CAAC,OAAO,CAAC;QAChB;QACA,SAAS,CAAC;YACR,IAAI,iBAAiB,OAAO;gBAC1B,kKAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;YAC/B,OAAO;gBACL,kKAAK,CAAC,KAAK,CAAC;YACd;QACF;IACF;AACF"}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/queries/index.ts"],"sourcesContent":["export { useCurrentUserQuery } from './use-current-user-query';\nexport { useLoginMutation } from './use-login-mutation';\nexport { useLogoutMutation } from './use-logout-mutation';\nexport { useRegisterMutation } from './use-register-mutation';\n\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/hooks/use-is-admin.ts"],"sourcesContent":["import { useAuthStore } from '../store';\n\nexport function useIsAdmin(): boolean {\n  const user = useAuthStore.use.user();\n  return user?.role === 'admin' || false;\n}\n\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACd,MAAM,OAAO,0JAAY,CAAC,GAAG,CAAC,IAAI;IAClC,OAAO,MAAM,SAAS,WAAW;AACnC"}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/hooks/use-require-admin.ts"],"sourcesContent":["import { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useIsAdmin } from './use-is-admin';\nimport { useAuthStore } from '../store';\n\nexport function useRequireAdmin(): void {\n  const router = useRouter();\n  const isAdmin = useIsAdmin();\n  const user = useAuthStore.use.user();\n\n  useEffect(() => {\n    if (user && !isAdmin) {\n      router.push('/dashboard');\n    }\n  }, [user, isAdmin, router]);\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAAA;;;;;AAEO,SAAS;IACd,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,UAAU,IAAA,6JAAU;IAC1B,MAAM,OAAO,0JAAY,CAAC,GAAG,CAAC,IAAI;IAElC,IAAA,kNAAS,EAAC;QACR,IAAI,QAAQ,CAAC,SAAS;YACpB,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;QAAS;KAAO;AAC5B"}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/hooks/index.ts"],"sourcesContent":["export { useIsAdmin } from './use-is-admin';\nexport { useRequireAdmin } from './use-require-admin';\n\n"],"names":[],"mappings":";AAAA;AACA"}},
    {"offset": {"line": 494, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/features/auth/index.ts"],"sourcesContent":["export * from './store';\nexport * from './queries';\nexport * from './hooks';\nexport * from './types';\n\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 532, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/components/AuthProvider.tsx"],"sourcesContent":["'use client';\n\nimport { useCurrentUserQuery } from '@/features/auth';\n\nexport default function AuthProvider({ children }: { children: React.ReactNode }) {\n  useCurrentUserQuery();\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAFA;;;AAIe,SAAS,aAAa,EAAE,QAAQ,EAAiC;IAC9E,IAAA,2JAAmB;IAEnB,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 552, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/lib/react-query/client.ts"],"sourcesContent":["import { QueryClient } from '@tanstack/react-query';\nimport toast from 'react-hot-toast';\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5,\n      refetchOnWindowFocus: false,\n      retry: 1,\n    },\n    mutations: {\n      onError: (error: unknown) => {\n        if (error instanceof Error) {\n          const message = error.message;\n          if (!message.includes('validation')) {\n            toast.error(message);\n          }\n        }\n      },\n    },\n  },\n});\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,cAAc,IAAI,4LAAW,CAAC;IACzC,gBAAgB;QACd,SAAS;YACP,WAAW,OAAO,KAAK;YACvB,sBAAsB;YACtB,OAAO;QACT;QACA,WAAW;YACT,SAAS,CAAC;gBACR,IAAI,iBAAiB,OAAO;oBAC1B,MAAM,UAAU,MAAM,OAAO;oBAC7B,IAAI,CAAC,QAAQ,QAAQ,CAAC,eAAe;wBACnC,kKAAK,CAAC,KAAK,CAAC;oBACd;gBACF;YACF;QACF;IACF;AACF"}},
    {"offset": {"line": 583, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/lib/react-query/index.ts"],"sourcesContent":["export { queryClient } from './client';\n\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 590, "column": 0}, "map": {"version":3,"sources":["file:///Users/olya/Desktop/space_craft_production/front-end/app/providers.tsx"],"sourcesContent":["'use client';\n\nimport { QueryClientProvider } from '@tanstack/react-query';\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\nimport { queryClient } from '@/lib/react-query';\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <QueryClientProvider client={queryClient}>\n      {children}\n      <ReactQueryDevtools initialIsOpen={false} />\n    </QueryClientProvider>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAMO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,8OAAC,6MAAmB;QAAC,QAAQ,8IAAW;;YACrC;0BACD,8OAAC,0MAAkB;gBAAC,eAAe;;;;;;;;;;;;AAGzC"}}]
}